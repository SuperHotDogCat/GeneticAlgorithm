# コード解説
コードを書くにあたり、
<p>
- 渡る前の岸に人がいる状態
</p>
<p>
- 渡る側の岸に人がいる状態
</p>
<p>
- ボートの位置
</p>
<p>
これらの状態を管理することを考えると、classでまとめた方が良いと考えたので, 状態はEnvというclassで管理を行うことにした。
</p>

## class Env の仕様
<p>
assignment4_3_A.pyのclassを元にclass Envの解説を行う。
</p>

### properties

<p>
- left, island, right: List[List[int]]
</p>
<p>
それぞれ渡る前の岸, 渡る途中にある島, 渡る側の岸を意味する。Nで組数を指定し, 1, 0でその岸にいるかどうかを判断する。例えばN = 3なら最初のleftの状態は
[[1,1], [1,1], [1,1]]である。
ちなみに、assignment4_1ではislandのpropertyはない
</p>
<p>
- boat
</p>
<p>
ボートがどこにあるのかを指定するproperty。assignment4_1なら0で渡る前の岸, 1で渡る側の岸を意味する。assignment4_2なら0で渡る前の岸, 1で島, 2で渡る側の岸を意味する。
</p>
<p>
- score
</p>
<p>
A*探索のために必要となる値。授業中にあったように定義を行う。A*の計算方法は後に述べる。
</p>
<p>
depth
</p>
<p>
A*探索のために必要となる値。Envの探索nodeの深さを保持しておくために使う
</p>

### methods

<p>
- set_state
</p>
<p>
Env classを引数から制作する関数
</p>
<p>
- __eq__
</p>
<p>
状態が等しいとはどういう状態であるかを定義する関数。今回は渡る前の岸, 島, 渡る側の岸の状態が等しければ状態が等しいとして定義を行うことにした。
</p>
<p>
- __repr__, __str__
</p>
<p>
デバック用のmethod, print関数などで綺麗に表示してくれるために追加
</p>
<p>
- __lt__
</p>
<p>
A*探索の際, Env classのscorepropertyの大小を考えなければならない状況がでてくる。その時にEnv classの大小比較ができると便利なので追加したメソッド
</p>
<p>
- set_state_from_index
</p>
<p>
状態に島が追加される時, ボート移動後の状態を出力するのがやや混み行った操作となるので追加した関数。
</p>
<p>
- next_states
</p>
<p>
やや実装が混みいるが, 以下の手順で主に現在の状態から次の状態を求めた。
</p>
1. ボートの位置とボートの出発先と目的地を元に, 移動候補を制作
</p>
</p>
2. 移動候補が有効な移動先であることを(is_valid_state関数)確認し, 既に訪れた状態でなければ移動候補に追加する。
</p>

# 関数

<p>
- is_valid_state
</p>
<p>
移動先の状態が有効(ある男の妻が別の男と一緒にいないこと)であるかを確かめる関数。
</p>
<p>
- dfs, bfs, A*
</p>
<p>
上までで実装した関数とクラスを使い,dfs, bfs, A*アルゴリズムを実行していく関数。dfs, bfsは用いるデータ構造はdequeであり, A*はminheapを用いた。
</p>

# A*のf値の決め方

# Result
### assignment4_1
dfs
```
N: num_nodes
1: 1
2: 16
3: 53
4: -1
5: -1
6: -1
```
bfs
```
N: num_nodes
1: 1
2: 20
3: 55
4: -1
5: -1
6: -1
```
A*
```
N: num_nodes
1: 1
2: 19
3: 55
4: -1
5: -1
6: -1
```

### assignment4_2
dfs
```
N: num_nodes
1: 7
2: 76
3: 376
4: 2176
5: 1665
6: 計測不能
```
bfs
```
N: num_nodes
1: 9
2: 133
3: 756
4: 3442
5: 計測不能
6: 計測不能
```
A*
```
N: num_nodes
1: 8
2: 60
3: 325
4: 1182
5: 2928
6: 10050
```

### assignment4_3
dfs
```
N: num_nodes
1: 5
2: 27
3: 268
4: 774
5: 1409
6: 11496
```
bfs
```
N: num_nodes
1: 5
2: 82
3: 547
4: 2729
5: 11899
6: 測定不能
```
A*
```
N: num_nodes
1: 5
2: 45
3: 316
4: 2338
5: 1322
6: 10022
```